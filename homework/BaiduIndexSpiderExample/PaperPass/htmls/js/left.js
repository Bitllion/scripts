(function(System,$){$(function(){var TypeOf=typeof isHasDetailReport;if(TypeOf=="boolean"&&isHasDetailReport==true){var FoldState=System.operateState.getFoldState(Report.report_id);if(isWord){var DetailNum=System.operateState.getDetailNum(Report.report_id);var Detailoffset=System.operateState.getDetailoffset(Report.report_id);var DetailSize=System.operateState.getDetailSize(Report.report_id);var ZoomBtnState=System.operateState.getZoomBtnState(Report.report_id);var LineState=System.operateState.getLineState(Report.report_id)}else{var DetailNum=System.operateState.getPlainTextDetailNum(Report.report_id);var Detailoffset=System.operateState.getPlainTextDetailoffset(Report.report_id);var DetailSize=System.operateState.getPlainTextDetailSize(Report.report_id);var ZoomBtnState=System.operateState.getPlainTextZoomBtnState(Report.report_id);var LineState=System.operateState.getPlainTextLineState(Report.report_id)}}else{var FoldState=System.operateState.getFoldState2(Report.report_id);if(isWord){var ProofNum=System.operateState.getProofNum(Report.report_id);var ProofOffset=System.operateState.getProofOffset(Report.report_id);var ProofSize=System.operateState.getProofSize(Report.report_id);var ProofZoomBtnState=System.operateState.getProZoomBtnState(Report.report_id)}else{var ProofNum=System.operateState.getPlainTextProofNum(Report.report_id);var ProofOffset=System.operateState.getPlainTextProofOffset(Report.report_id);var ProofSize=System.operateState.getPlainTextProofSize(Report.report_id);var ProofZoomBtnState=System.operateState.getPlainTextProZoomBtnState(Report.report_id)}}var str="";str+=`<span class="pageNum"></span><span class="partition">/</span><span class="totalPage"></span>`;$(".top_Num").html(str);var totalPage=$(".upkmzjakmc").length;$(".totalPage").text(totalPage);$(".top_Num").show();if(TypeOf=="boolean"&&isHasDetailReport==true){parentWidth(DetailSize?DetailSize:1);AddH(DetailSize?DetailSize:1);SimilarityFun("init",DetailSize?DetailSize:1);FunPage(DetailNum,Detailoffset);size=DetailSize?DetailSize:1;ZoomState(ZoomBtnState);FuncLine(LineState)}else{parentWidth(ProofSize?ProofSize:1);AddH(ProofSize?ProofSize:1);FunPage(ProofNum,ProofOffset);size=ProofSize?ProofSize:1;ZoomState(ProofZoomBtnState)}function FunPage(PageNum,offsetH){if(PageNum=="null"||PageNum==""){$(".pageNum").text(1);page1=$(".input_pageNum").val(1)}else{$(".pageNum").text(PageNum);$(".input_pageNum").val(PageNum);$("#toall_Num").attr("href","#"+PageNum);$("body").scrollTop(offsetH)}}function ZoomState(State){if(State==""||State=="block"){$(".allButton").hide();$(".CollagenButton").hide();$("#menuButton").css("background","#323639")}else{$(".allButton").show();$(".CollagenButton").show();$("#menuButton").css("background","#1b1e1f")}}var nowPage=1;function scrollFunc(size){var offsetH=$("body").scrollTop();var scrollH=-15;$(".upkmzjakmc").each(function(k,v){var PageH=$(v)[0].getBoundingClientRect().height+15;if(scrollH<offsetH&&offsetH<=scrollH+PageH){nowPage=k+1}scrollH+=PageH});$(".input_pageNum").val(nowPage);$(".pageNum").text(nowPage);$("#toall_Num").attr("href","#"+nowPage)}function parentWidth(size){var _Size=Math.round(size*100)/100;percent=Math.round(_Size*100);if(percent==""){$(".percent_num").text(100)}else{$(".percent_num").text(percent)}$(".upkmzjakmc").css("transform","scale("+_Size+")");if(isWord){if(_Size<1){$(".upkmzjakmc").css("transform-origin","left top")}else{$(".upkmzjakmc").css("transform-origin","center top")}}else{$(".upkmzjakmc").css("transform-origin","left top")}$(".upkmzjakmc").each(function(k,v){var pageW=this.getBoundingClientRect().width+30;var pageH=this.getBoundingClientRect().height+15;$(this).parent(".jcjymywwzd").css("width",pageW);$(this).parent(".jcjymywwzd").css("height",pageH)});if(nowPage!=undefined){$(".jump_page").attr("href","#"+nowPage);$("#jumpBtn").attr("href","#"+nowPage);$(".jumpBtn").trigger("click")}$("body").off("scroll").on("scroll",function(e){scrollFunc(_Size);var offsetH=$("body").scrollTop();var top=offsetH*$(".slide-track-item").height()/($("#mbxsgxktna").height()+15);$(".slide-thumb").css("top",top+"px");var Page=nowPage;var obj={PageNum:Page,page_nav_click:page_nav_click};parent.parent.postMessage(obj,"*");if(TypeOf=="boolean"&&isHasDetailReport==true){if(isWord){System.operateState.saveDetailNum(Report.report_id,Page);System.operateState.saveDetailoffset(Report.report_id,offsetH)}else{System.operateState.savePlainTextDetailNum(Report.report_id,Page);System.operateState.savePlainTextDetailoffset(Report.report_id,offsetH)}}else{if(isWord){System.operateState.saveProofNum(Report.report_id,Page);System.operateState.saveProofOffset(Report.report_id,offsetH)}else{System.operateState.savePlainTextProofNum(Report.report_id,Page);System.operateState.savePlainTextProofOffset(Report.report_id,offsetH)}}});var PageSize=_Size;if(TypeOf=="boolean"&&isHasDetailReport==true){if(isWord){System.operateState.saveDetailSize(Report.report_id,PageSize)}else{System.operateState.savePlainTextDetailSize(Report.report_id,PageSize)}}else{if(isWord){System.operateState.saveProofSize(Report.report_id,PageSize)}else{System.operateState.savePlainTextProofSize(Report.report_id,PageSize)}}}$(".toall_div").mousemove(function(){$(this).css({"background-color":"#424649","border-radius":"2px"});$(this).children(".tip").css("display","block")}).mouseout(function(){$(this).css("background-color","transparent");$(this).children(".tip").css("display","none")});$(".Switch").click(function(){$(".layui-layer-shade").css("display","block");$(".layui-layer-title").html("切换模式");$(".detail_btn").data("type","switch");if(isWord){$(".layui-layer-content").html("确认切换至“纯文字模式”吗？")}else{$(".layui-layer-content").html("确认切换至“标准模式”吗？")}});$(".detail_btn").click(function(){type=$(this).data("type");if(type=="switch"){$(".layui-layer-btn0").attr("href",$(this).data("txtLink"));parent.parent.postMessage("switch","*");if(TypeOf=="boolean"&&isHasDetailReport==true){if(isWord){parent.postMessage("word_right","*");System.operateState.saveInitPage(Report.report_id,"switch_text")}else{parent.postMessage("text_right","*");System.operateState.saveInitPage(Report.report_id,"switch_word")}}else{if(isWord){parent.postMessage("proof_right","*");System.operateState.saveProofInitPage(Report.report_id,"proof_switch_text")}else{parent.postMessage("proofPt_right","*");System.operateState.saveProofInitPage(Report.report_id,"proof_switch_word")}}}});$(".layui-layer-btn1, .layui-layer-btn0, .layui-layer-setwin").click(function(){$(".layui-layer-shade").css("display","none")});var bodyDOM=document.querySelector("#mbxsgxktna").cloneNode(true).innerHTML;var sheetCSS=document.querySelector("style").cloneNode(true).innerHTML;var cloneHTML={sheetCSS:sheetCSS,bodyDOM:bodyDOM};parent.parent.postMessage(cloneHTML,"*");$(".subline").click(function(){$(".layui-layer-shade").css("display","block");$(".layui-layer-title").html("辅助线");curHref=$(".detail_btn").attr("href");if(curHref!="#"){$(".detail_btn").data("txtLink",$(".detail_btn").attr("href"));$(".layui-layer-btn0").attr("href","#")}$(".detail_btn").data("type","subline");if($(".red").parent().eq(0).hasClass("red_a")||$(".orange").parent().eq(0).hasClass("orange_a")){$(".layui-layer-content").html("确认“取消辅助线”吗？")}else{$(".layui-layer-content").html("确认“使用辅助线”吗？")}});function FuncLine(Line){if(Line=="true"||Line==""){$(".red").parent().removeClass("red_a");$(".orange").parent().removeClass("orange_a");$(".subline").css("background-position","-106px -162px")}else{$(".red").parent().addClass("red_a");$(".orange").parent().addClass("orange_a");$(".subline").css("background-position","-146px -159px")}}$("body").on("click",".layui-layer-btn0",function(){if($(".layui-layer-title").html()!=="辅助线"){return}var has_red=$("span").hasClass("red");var has_orange=$("span").hasClass("orange");if(has_red==false&&has_orange==false){FuncLine("")}else{var has_Class=$(".red").parent().eq(0).hasClass("red_a")||$(".orange").parent().eq(0).hasClass("orange_a");var str_has=String(has_Class);if(isWord){System.operateState.saveLineState(Report.report_id,str_has)}else{System.operateState.savePlainTextLineState(Report.report_id,str_has)}FuncLine(str_has)}});$(".bottom").click(function(){$(".bottom_a").attr("href","#"+(nowPage+1));$("#toall_Num").attr("href","#"+(nowPage+1))});$(".top").click(function(){$(".top_a").attr("href","#"+(nowPage-1));$("#toall_Num").attr("href","#"+(nowPage-1))});$(".input_pageNum").focus(function(){$(".input_pageNum").css("background-color","#424649");$(".input_pageNum").select()}).blur(function(){$(".input_pageNum").css("background-color","transparent");page1=$(".input_pageNum").val();if(page1<=totalPage&&/^[1-9]\d*$/.test(page1)){$("#toall_Num").attr("href","#"+page1)}else{$(".input_pageNum").val(nowPage)}}).mousemove(function(){$(".input_pageNum").css("background-color","#424649")}).mouseout(function(){if($(".input_pageNum").is(":focus")){$(".input_pageNum").css("background-color","#424649")}else{$(".input_pageNum").css("background-color","transparent")}}).keyup(function(){if(event.keyCode==13){page1=$(".input_pageNum").val();if(page1<=totalPage&&/^[1-9]\d*$/.test(page1)){$("#toall_Num").attr("href","#"+page1);window.location.hash="#"+page1}else{$(".input_pageNum").val(nowPage);$(".input_pageNum").blur()}}});var isHas=hasScrollbar();if(isHas){var width=getScrollbarWidth();$(".btn_fold").css("right",width+"px");$(".Shadow").css("width","calc(100% - "+width+"px)")}else{$(".btn_fold").css("right",0+"px");$(".Shadow").css("width","100%")}$(".btn_fold").click(function(){var fold=$(".btn_fold_left").css("display");foldFun(fold)});foldFun(FoldState);function foldFun(FoldState){if(FoldState=="none"){$(".btn_fold_left").css("display","block");$(".btn_fold_right").css("display","none")}else{$(".btn_fold_left").css("display","none");$(".btn_fold_right").css("display","block")}var obj={FoldState:FoldState};if(TypeOf=="boolean"&&isHasDetailReport==true){System.operateState.saveFoldState(Report.report_id,FoldState)}else{System.operateState.saveFoldState2(Report.report_id,FoldState)}parent.postMessage(obj,"*");parent.parent.postMessage(obj,"*")}var percent;$("#originalButton").on("click",function(e){e.preventDefault(e);zoomShow(totalPage);size=1;_size=size;setTimeout(()=>{parentWidth(_size);AddH(_size);if(TypeOf=="boolean"&&isHasDetailReport==true){SimilarityFun("scroll",size)}HideShade(totalPage)},20)});$("#fitPageButton").click(function(e){e.preventDefault(e);zoomShow(totalPage);var fitPage_h=$("body")[0].getBoundingClientRect().height;size=(fitPage_h-20)/minHeight;_size=size;setTimeout(()=>{parentWidth(_size);AddH(_size);if(TypeOf=="boolean"&&isHasDetailReport==true){SimilarityFun("scroll",size)}SimilarityFun("scroll",size);HideShade(totalPage)},20)});$("#fitWidthButton").click(function(e){e.preventDefault(e);zoomShow(totalPage);var fitWidth_w=$("body")[0].getBoundingClientRect().width;size=(fitWidth_w-163)/minWidth;if(size>2){size=2}_size=size;setTimeout(()=>{parentWidth(_size);AddH(_size);if(TypeOf=="boolean"&&isHasDetailReport==true){SimilarityFun("scroll",size)}HideShade(totalPage)},20)});function roundFun(value,n){return Math.round(value*Math.pow(10,n))/Math.pow(10,n)}$("#zoomOutButton").click(function(e){if(percent%10==0&&size<=2){size+=.1}if(percent%10>=5&&size<=2){size=roundFun(percent/100,1)}if(percent%10<5&&size<=2){size=roundFun(percent/100,1)+.1}if(size>2){e.preventDefault(e);size=2;$(".percent_num").text(size*100);return}e.preventDefault(e);zoomShow(totalPage);_size=size;setTimeout(()=>{parentWidth(_size);AddH(_size);if(TypeOf=="boolean"&&isHasDetailReport==true){SimilarityFun("scroll",size)}HideShade(totalPage)},20)});$("#zoomInButton").click(function(e){if(percent%10==0&&size>=.1){size-=.1}else if(percent%10>=5&&size>=.1){size=roundFun(percent/100,1)-.1}else if(percent%10<5&&size>=.1){size=roundFun(percent/100,1)}if(size<.1){e.preventDefault();size=.1;$(".percent_num").text(size*100);return}e.preventDefault(e);zoomShow(totalPage);_size=size;setTimeout(()=>{parentWidth(_size);AddH(_size);if(TypeOf=="boolean"&&isHasDetailReport==true){SimilarityFun("scroll",size)}HideShade(totalPage)},20)});$(".allButton").mousemove(function(){$(this).css("background","#1b1e1f");$(this).children(".bot_tip").css("display","block")}).mouseout(function(){$(this).css("background","#323639");$(this).children(".bot_tip").css("display","none")});$("#CollagenButton").click(function(e){var listState=$(".percent_list").css("display");if(listState=="block"){$(".percent_list").hide();$(this).children(".percent_tip").css("display","block")}else{$(".percent_list").show();$("#CollagenButton").css("background","#1b1e1f")}$(this).children(".percent_tip").css("display","none");e.stopPropagation()}).mousemove(function(){$("#CollagenButton").css("background","#1b1e1f");if($(".percent_list").css("display")=="block"){$(this).children(".percent_tip").css("display","none")}else{$(this).children(".percent_tip").css("display","block")}}).mouseout(function(){if($(".percent_list").css("display")=="block"){$("#CollagenButton").css("background","#1b1e1f")}else{$("#CollagenButton").css("background","#323639")}$(this).children(".percent_tip").css("display","none")});$(document).click(function(){$(".percent_list").hide();$("#CollagenButton").css("background","#323639")});$(".zoom-shade").click(function(e){var listState=$(".percent_list").css("display");if(listState=="block"){$(".percent_list").show()}else{$(".percent_list").hide()}e.stopPropagation()});$(".percent_li").click(function(e){e.preventDefault();zoomShow(totalPage);var liTxt=$(this).children(".li_text").text();size=liTxt/100;_size=size;setTimeout(()=>{parentWidth(_size);AddH(_size);if(TypeOf=="boolean"&&isHasDetailReport==true){SimilarityFun("scroll",size)}HideShade(totalPage)},20);e.stopPropagation()}).mousemove(function(){$(this).css("background","#1b1e1f")}).mouseout(function(){$(this).css("background","#323639")});$("#menuButton").click(function(){var showState=$(".allButton").css("display");$(".percent_list").hide();$("#CollagenButton").css("background","#323639");if(TypeOf=="boolean"&&isHasDetailReport==true){if(isWord){System.operateState.saveZoomBtnState(Report.report_id,showState)}else{System.operateState.savePlainTextZoomBtnState(Report.report_id,showState)}}else{if(isWord){System.operateState.saveProZoomBtnState(Report.report_id,showState)}else{System.operateState.savePlainTextProZoomBtnState(Report.report_id,showState)}}if(showState=="block"){$(".allButton").hide();$(".CollagenButton").hide();$("#menuButton").css("background","#323639")}else{$(".allButton").show();$(".CollagenButton").show();$("#menuButton").css("background","#1b1e1f")}}).mousemove(function(){$("#menuButton").css("background","#1b1e1f");$(this).children(".menu_tip").css("display","block")}).mouseout(function(){$(this).children(".menu_tip").css("display","none");if($(".allButton").css("display")=="block"){$("#menuButton").css("background","#1b1e1f")}else{$("#menuButton").css("background","#323639")}});function zoomShow(num){$(".zoom-shade").css("opacity",num<100?0:.3);$(".zoom-shade").show()}function HideShade(){$(".zoom-shade").hide()}var str=`<div class="similarTip" style="position:absolute;border:1px solid #000000;background:#ffffff;z-index:9999;font-size:13px;padding:6px 4px;white-space:nowrap;"></div>`;var htm=`<div class="similarTip" style="position:absolute;border:1px solid #000000;background:#ffffff;z-index:9999;font-size:13px;line-height:22px;padding:3px 5px;">
	 					<div class="num"></div>
						<div>查看句子详细结果，请展开右侧！</div>
                   </div>`;if(TypeOf=="boolean"&&isHasDetailReport==true){$("#mbxsgxktna a[target='right']").mouseover(function(){var FoldState=System.operateState.getFoldState(Report.report_id);if(FoldState=="none"){$("#mbxsgxktna").append(htm)}else{$("#mbxsgxktna").append(str)}}).mouseout(function(){$("div[class='similarTip']").remove()}).click(function(){var FoldState=System.operateState.getFoldState(Report.report_id);if(FoldState=="none"){return false}});$("#mbxsgxktna a[target='right']").mousemove(function(eve){var w=document.documentElement.clientWidth;var h=document.documentElement.clientHeight;var e=eve||window.event;var score=$(this).data().score;$(this).parent().css("z-index","");var FoldState=System.operateState.getFoldState(Report.report_id);if(FoldState=="none"){$("div[class='similarTip'] .num").html("相似度: "+score+"%")}else{$("div[class='similarTip']").html("相似度: "+score+"%")}$("div[class='similarTip']").css({left:e.clientX+20+"px",top:e.clientY+20+"px"});if(h-e.clientY<70){$("div[class='similarTip']").css({left:e.clientX+20+"px",top:e.clientY-50+"px"})}if(w-e.clientX<120){$("div[class='similarTip']").css({left:e.clientX-100+"px"})}})}$(document).on("click",".section_edit",function(){var id=$(this).find(".section_num").text();var obj={section_edit:id};parent.parent.postMessage(obj,"*")});$(document).on("click",".Modify_document",function(){var obj={modify_document:true};parent.parent.postMessage(obj,"*")});var page_nav_click="false";window.addEventListener("message",function(event){if(event.data.EnterId){window.location.hash="#"+event.data.EnterId}if(event.data.page_nav_click){page_nav_click=event.data.page_nav_click}})})})(Report,jQuery);function hasScrollbar(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)}function getScrollbarWidth(){var scrollDiv=document.createElement("div");scrollDiv.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;";document.body.appendChild(scrollDiv);var scrollbarWidth=scrollDiv.offsetWidth-scrollDiv.clientWidth;document.body.removeChild(scrollDiv);return scrollbarWidth}var arrW=new Array;var arrH=new Array;$(".upkmzjakmc").each(function(k,v){arrW.push($(this).width())});$(".upkmzjakmc").each(function(k,v){arrH.push($(this).height())});function getMaxCountWidth(arr){var mp=new Array;for(var idx in arr){var item=arr[idx];var count=0;if(!mp.hasOwnProperty(item)){mp[item]=1}else{count=mp[item];count=count+1;mp[item]=count}}var maxCount=0;var width=0;for(var key in mp){var val=mp[key];if(val>=maxCount){maxCount=val;if(width==0){width=key}else if(key>width){width=key}}}return width}function getMaxCountHeight(arr){var mp=new Array;for(var idx in arr){var item=arr[idx];var count=0;if(!mp.hasOwnProperty(item)){mp[item]=1}else{count=mp[item];count=count+1;mp[item]=count}}var maxCount=0;var height=0;for(var key in mp){var val=mp[key];if(val>=maxCount){maxCount=val;if(height==0){height=key}else if(key<height){height=key}}}return height}var minWidth=getMaxCountWidth(arrW);var minHeight=getMaxCountHeight(arrH);var size=1;var _size;function AddH(size){var h=document.documentElement.clientHeight;var last_h=$(".upkmzjakmc:last")[0].getBoundingClientRect().height+30;var AddH=h-last_h;if(last_h>=h){$("#Add_height").css("height",0)}else{$("#Add_height").css("height",AddH)}var w=document.documentElement.clientWidth;var mWidth=minWidth*size;var topNumWidth=$(".top_Num").width()+25;var right=(w-mWidth)/2;if(mWidth<=500){right=right-topNumWidth}else if(mWidth>=w-105){right=77}else{right=right+15}$(".top_Num").css("right",right)}function hideThumb(){if($("#mbxsgxktna").height()<$("body").height()){$(".slide-thumb").hide()}else{$(".slide-thumb").show()}}var mergeArry;function SimilarityFun(scrllType,scaleNum=1){hideThumb();var multArry=[];var contBoxHeight=$("#mbxsgxktna").height()+15;for(var i=0;i<contBoxHeight;i++){multArry.push({color:"white",height:1,top:i,zIndex:0})}var nodeArry=[];var $jcjymywwzd=document.querySelectorAll(".jcjymywwzd");$.each($jcjymywwzd,function(index,item){var odiv=item.getElementsByTagName("span");for(var i=0;i<odiv.length;i++){nodeArry.push(odiv[i])}});var TypeOf=typeof isHasDetailReport;var multipleNum=1;var initH=0;if(TypeOf=="boolean"&&isHasDetailReport==true){if(isWord){multipleNum=10}}if(scrllType=="scroll"){initH=$("body").scrollTop()}var orangeArry=[];var redArry=[];$.each(nodeArry,function(index,item){var o={};if(item.className.indexOf("orange")>-1){o.color="orange";o.zIndex=1;o.height=Math.round($(item).height()*scaleNum/multipleNum);o.top=Math.round($(item).offset().top+initH);orangeArry.push(o)}else if(item.className.indexOf("red")>-1){o.color="red";o.zIndex=2;o.height=Math.round($(item).height()*scaleNum/multipleNum);o.top=Math.round($(item).offset().top+initH);redArry.push(o)}});if(orangeArry.length>0){for(var j=0;j<orangeArry.length;j++){for(var k=0;k<orangeArry[j].height;k++){var topIndex=orangeArry[j].top;multArry.splice(topIndex+k,1,{color:"orange",height:1,top:topIndex+k,zIndex:1})}}}if(redArry.length>0){for(var j=0;j<redArry.length;j++){for(var k=0;k<redArry[j].height;k++){var topIndex=redArry[j].top;multArry.splice(topIndex+k,1,{color:"red",height:1,top:topIndex+k,zIndex:2})}}}mergeArry=JSON.parse(JSON.stringify(multArry));for(var i=mergeArry.length-1;i>0;i--){if(!!mergeArry[i-1]){if(mergeArry[i-1].color==mergeArry[i].color){mergeArry[i-1].height=mergeArry[i].height+1;mergeArry.splice(i,1)}}}for(var i=mergeArry.length-1;i>0;i--){if(!!mergeArry[i-2]){if(mergeArry[i].color!="white"&&mergeArry[i-1].color=="white"){if(mergeArry[i].height>mergeArry[i-1].height&&mergeArry[i-2].height>mergeArry[i-1].height){var halfHeight=mergeArry[i-1].height;var upHeight=Math.round(halfHeight*mergeArry[i-2].height/(mergeArry[i-2].height+mergeArry[i].height));var downHeight=mergeArry[i-1].height-upHeight;mergeArry[i-2].height=mergeArry[i-2].height+upHeight;mergeArry[i].height=mergeArry[i].height+downHeight;mergeArry[i].top=mergeArry[i].top-downHeight;mergeArry.splice(i-1,1)}}}}var sum=0;mergeArry.forEach((item,index)=>{if(index<mergeArry.length-1){item.rate=item.height/contBoxHeight*100;sum+=Number(item.rate)}else{item.rate=Number(100-sum)}});slideScrollBar()}function GetPercent(num,total){num=parseFloat(num);total=parseFloat(total);if(isNaN(num)||isNaN(total)){return"-"}return total<=0?"0%":Number((num/total*1e4/100).toFixed(2))}function slideScrollBar(){var TypeOf=typeof isHasDetailReport;var restH=$(".slide-track-item").height();var mbHeight=$("#mbxsgxktna").height()+15;if(TypeOf=="boolean"&&isHasDetailReport==true){var offsetH=$("body").scrollTop();var top=offsetH*$(".slide-track-item").height()/($("#mbxsgxktna").height()+15);$(".slide-thumb").css("top",top+"px");$(".slide-track-item").html("");var str="";if(mergeArry){mergeArry.forEach((element,i)=>{str+=`<div style="position: absolute;height: ${restH*(element.rate/100)}px;top:${element.top/mbHeight*100}%;z-index:${element.zIndex};" class="slide_color ${element.color}"></div>`})}$(".slide-track-item").append(str)}$(".slide-track-item,.slide-cover").click(function(e){top=e.clientY-$(".slide-scrollbar")[0].offsetTop-$(".slide-thumb").height()/2;if(top<0){top=0}let scrollTop=parseInt(top*($("#mbxsgxktna").height()+15)/restH);$("body").scrollTop(scrollTop);return false});if($(".slide-scrollbar")[0]){$(".slide-scrollbar")[0].addEventListener("wheel",function(event){var restH=$(".slide-track-item").height();var top=parseInt($(".slide-thumb").css("top"));var e=event||window.event;var delta=e.wheelDelta||-e.deltaY*40;if(e.deltaY>0){top+=Math.abs(delta/120);if(top>restH){top=restH}}else if(e.deltaY<0){top-=Math.abs(delta/120);if(top<0){top=0}}let scrollTop=parseInt(top*($("#mbxsgxktna").height()+15)/restH);$("body").scrollTop(scrollTop);return false},false)}$(".slide-thumb").mousedown(function(event){let offsetTop=$(".slide-thumb")[0].offsetTop;let e=event||window.event;let mouseY=e.clientY;$(document).mousemove(function(event){let e=event||window.event;let moveTop=e.clientY-mouseY;let top=offsetTop+moveTop;if(top<0){top=0}let scrollTop=parseInt(top*($("#mbxsgxktna").height()+15)/restH);$("body").scrollTop(scrollTop);return false});$(document).mouseup(function(e){$(document).off("mousemove");return false});return})}$(window).resize(function(){AddH(size);var TypeOf=typeof isHasDetailReport;if(TypeOf=="boolean"&&isHasDetailReport==true){slideScrollBar()}var isHas=hasScrollbar();if(isHas){var width=getScrollbarWidth();$(".btn_fold").css("right",width+"px")}else{$(".btn_fold").css("right",0+"px")}});window.onload=function(){parent.parent.postMessage("Page_Loading","*")};